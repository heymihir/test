from pathlib import Path
from datetime import datetime, timedelta

def manage_folders(base_directory):
    base_dir = Path(base_directory)
    daily_balances_dir = base_dir / "daily_balances_files"
    daily_balances_dir.mkdir(parents=True, exist_ok=True)
    tracking_file = daily_balances_dir / "last_run.txt"
    if tracking_file.exists():
        last_run_date = datetime.strptime(tracking_file.read_text().strip(), "%Y-%m-%d").date()
        today_date = last_run_date + timedelta(days=1)
    else:
        today_date = datetime.today().date()
    tomorrow_date = today_date + timedelta(days=1)
    today_path = daily_balances_dir / today_date.strftime("%Y-%m-%d")
    tomorrow_path = daily_balances_dir / tomorrow_date.strftime("%Y-%m-%d")
    tomorrow_path.mkdir(parents=True, exist_ok=True)
    tracking_file.write_text(tomorrow_date.strftime("%Y-%m-%d"))
    print(f'created folder: "{tomorrow_path}"')
    return today_path, tomorrow_path
